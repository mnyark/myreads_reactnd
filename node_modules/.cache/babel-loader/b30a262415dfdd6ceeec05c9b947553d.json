{"ast":null,"code":"import _classCallCheck from \"/Users/maame/Desktop/reactnd-project-myreads-starter/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/maame/Desktop/reactnd-project-myreads-starter/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/maame/Desktop/reactnd-project-myreads-starter/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/maame/Desktop/reactnd-project-myreads-starter/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/maame/Desktop/reactnd-project-myreads-starter/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/maame/Desktop/reactnd-project-myreads-starter/src/App.js\";\nimport React from 'react';\nimport * as BooksAPI from './BooksAPI';\nimport './App.css';\nimport { Route } from 'react-router-dom';\nimport BookShelf from './BookShelf';\nimport BooksSearch from './BooksSearch';\n\nvar BooksApp =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(BooksApp, _React$Component);\n\n  function BooksApp() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, BooksApp);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(BooksApp)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      searchedBooks: [],\n      shelfBooks: [],\n      booksNotFound: false\n    };\n\n    _this.search = function (query) {\n      BooksAPI.search(query.trim()).then(function (response) {\n        if (response && response.length) {\n          response.map(function (book) {\n            _this.state.shelfBooks.map(function (pbook) {\n              pbook.id === book.id ? book.shelf = pbook.shelf : 'none';\n            });\n          });\n\n          _this.setState({\n            searchedBooks: response,\n            booksNotFound: false\n          });\n        } else {\n          _this.setState({\n            searchedBooks: [],\n            booksNotFound: true\n          });\n        }\n\n        ;\n      });\n    };\n\n    _this.changeShelf = function (newBook, newShelf) {\n      BooksAPI.update(newBook, newShelf).then(function () {\n        newBook.shelf = newShelf;\n\n        _this.setState(function (state) {\n          return {\n            shelfBooks: state.shelfBooks.filter(function (b) {\n              return b.id !== newBook.id;\n            }).concat([newBook])\n          };\n        });\n      });\n    };\n\n    _this.updateSearch = function () {\n      _this.setState({\n        searchedBooks: []\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(BooksApp, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      BooksAPI.getAll().then(function (shelfBooks) {\n        _this2.setState({\n          shelfBooks: shelfBooks\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"app\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: function render() {\n          return React.createElement(BookShelf, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/search\",\n        render: function render() {\n          return React.createElement(BooksSearch, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return BooksApp;\n}(React.Component);\n\nexport default BooksApp;","map":{"version":3,"sources":["/Users/maame/Desktop/reactnd-project-myreads-starter/src/App.js"],"names":["React","BooksAPI","Route","BookShelf","BooksSearch","BooksApp","state","searchedBooks","shelfBooks","booksNotFound","search","query","trim","then","response","length","map","book","pbook","id","shelf","setState","changeShelf","newBook","newShelf","update","filter","b","concat","updateSearch","getAll","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport * as BooksAPI from './BooksAPI'\nimport './App.css'\nimport { Route } from 'react-router-dom'\nimport BookShelf from './BookShelf'\nimport BooksSearch from './BooksSearch'\n\nclass BooksApp extends React.Component {\n  state = {\n      searchedBooks: [],\n      shelfBooks: [],\n      booksNotFound: false \n  }\n\n  search = (query) => {\n    BooksAPI.search(query.trim()).then(response => {\n\n      if (response && response.length) { response.map((book) => {\n        this.state.shelfBooks.map((pbook) => {\n          (pbook.id === book.id ? book.shelf = pbook.shelf: 'none');\n        });\n      });\n        this.setState({\n          searchedBooks:response,\n          booksNotFound: false\n        });\n\n      } else {\n        this.setState({\n          searchedBooks: [],\n          booksNotFound: true\n        })\n      };\n    })\n  }\n\n  componentDidMount(){\n    BooksAPI.getAll().then((shelfBooks) => {\n      this.setState({shelfBooks: shelfBooks})\n    })}\n\n  changeShelf = (newBook, newShelf) => {\n    BooksAPI.update(newBook, newShelf).then(() => {\n      newBook.shelf = newShelf\n      this.setState(state => ({\n        shelfBooks: state.shelfBooks.filter(b => b.id !== newBook.id).concat([newBook])\n      }))\n    })\n  }\n\n  updateSearch = () => {\n    this.setState({searchedBooks: [] });\n  }\n\n  render() {\n    return (\n      <div className=\"app\">\n        <Route exact path='/' render= {() => ( \n          <BookShelf /> \n    )}/>\n     \n    <Route path='/search'\n      render={() =>\n      (<BooksSearch />  \n    )}/>\n      </div>\n    )\n  }\n}\n\nexport default BooksApp\n"]},"metadata":{},"sourceType":"module"}